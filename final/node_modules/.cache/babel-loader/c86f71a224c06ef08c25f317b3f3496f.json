{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\vscode\\\\webfinalproject\\\\final\\\\final\\\\final\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\vscode\\\\webfinalproject\\\\final\\\\final\\\\final\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _taggedTemplateLiteral from\"C:\\\\vscode\\\\webfinalproject\\\\final\\\\final\\\\final\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\taggedTemplateLiteral.js\";var _templateObject;import _regeneratorRuntime from\"C:\\\\vscode\\\\webfinalproject\\\\final\\\\final\\\\final\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useRef,useCallback,useEffect}from\"react\";import{Marker}from'react-map-gl';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogContentText from'@mui/material/DialogContentText';import DialogTitle from'@mui/material/DialogTitle';import{Typography,Button,Dialog}from'@mui/material';import DateRangeIcon from'@mui/icons-material/DateRange.js';import PlaceIcon from'@mui/icons-material/Place.js';import ArrowForwardOutlinedIcon from'@mui/icons-material/ArrowForwardOutlined.js';import{makeStyles}from'@mui/styles';import pinimg from'./pinimg.png';import Geocode from\"react-geocode\";import{css}from\"@emotion/react\";import RingLoader from'react-spinners/RingLoader.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SIZE=50;var useStyles=makeStyles(function(theme){return{wrapIcon:{verticalAlign:'middle',display:'inline-flex'},customizeToolbar:{minHeight:40,width:'100%'}};});var override=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  border-color: #971d1d;\\n\"])));function Pins(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),coordinate=_useState2[0],setCoordinate=_useState2[1];Geocode.setApiKey(\"AIzaSyD7vSdUKsQRZcZ6tfi7EPFXuiDWSWtLZ7A\");Geocode.setLanguage(\"zh-TW\");Geocode.setLocationType(\"ROOFTOP\");Geocode.enableDebug();var Getcoordinate=function Getcoordinate(address){Geocode.fromAddress(address).then(function(response){var _response$results$0$g=response.results[0].geometry.location,lat=_response$results$0$g.lat,lng=_response$results$0$g.lng;var tempcoordinate=[];tempcoordinate.push(lat);tempcoordinate.push(lng);setCoordinate(tempcoordinate);console.log(coordinate);console.log(tempcoordinate);},function(error){console.error(error);});};var info=props.info;console.log(info);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var classes=useStyles();var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){var loadData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return new Promise(function(r){return setTimeout(r,2000);});case 2:setLoading(function(loading){return!loading;});case 3:case\"end\":return _context.stop();}}},_callee);}));return function loadData(){return _ref.apply(this,arguments);};}();Getcoordinate(info.address);loadData();},[]);return loading?/*#__PURE__*/_jsx(\"div\",{style:{position:\"fixed\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\"},children:/*#__PURE__*/_jsx(RingLoader,{color:\"#971d1d\",css:override,size:100})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Marker,{longitude:coordinate[1],latitude:coordinate[0],children:/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return handleOpen(info.id);},src:pinimg,height:\"40\",width:\"40\",alt:\"\",style:{cursor:'pointer',fill:'#d00',stroke:'none',transform:\"translate(\".concat(-SIZE/2,\"px,\").concat(-SIZE,\"px)\")}})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",className:classes.wrapIcon,children:[/*#__PURE__*/_jsx(PlaceIcon,{fontSize:\"small\",color:\"disabled\",style:{marginRight:\"6px\"}}),info.type]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",className:classes.wrapIcon,children:[/*#__PURE__*/_jsx(DateRangeIcon,{fontSize:\"small\",color:\"disabled\",style:{marginRight:\"6px\"}}),info.cost]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",className:classes.wrapIcon,children:[/*#__PURE__*/_jsx(ArrowForwardOutlinedIcon,{fontSize:\"small\",color:\"disabled\",style:{marginRight:\"6px\"}}),info.address]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Close\"})})]})]});}export default/*#__PURE__*/React.memo(Pins);","map":{"version":3,"sources":["C:/vscode/webfinalproject/final/final/final/src/Component/Pins.js"],"names":["React","useState","useRef","useCallback","useEffect","Marker","DialogActions","DialogContent","DialogContentText","DialogTitle","Typography","Button","Dialog","DateRangeIcon","PlaceIcon","ArrowForwardOutlinedIcon","makeStyles","pinimg","Geocode","css","RingLoader","SIZE","useStyles","theme","wrapIcon","verticalAlign","display","customizeToolbar","minHeight","width","override","Pins","props","coordinate","setCoordinate","setApiKey","setLanguage","setLocationType","enableDebug","Getcoordinate","address","fromAddress","then","response","results","geometry","location","lat","lng","tempcoordinate","push","console","log","error","info","open","setOpen","classes","handleOpen","handleClose","loading","setLoading","loadData","Promise","r","setTimeout","position","top","left","transform","id","cursor","fill","stroke","marginRight","type","cost","memo"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from \"react\";\r\nimport {Marker} from 'react-map-gl';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport {Typography, Button, Dialog} from '@mui/material';\r\nimport DateRangeIcon from '@mui/icons-material/DateRange.js';\r\nimport PlaceIcon from '@mui/icons-material/Place.js';\r\nimport ArrowForwardOutlinedIcon from '@mui/icons-material/ArrowForwardOutlined.js';\r\nimport { makeStyles } from '@mui/styles';\r\nimport pinimg from './pinimg.png'\r\nimport Geocode from \"react-geocode\";\r\nimport { css } from \"@emotion/react\";\r\nimport RingLoader from 'react-spinners/RingLoader.js'\r\nconst SIZE=50\r\nconst useStyles = makeStyles(theme => ({\r\n  wrapIcon: {\r\n    verticalAlign: 'middle',\r\n    display: 'inline-flex'\r\n  },\r\n  customizeToolbar: {\r\n    minHeight: 40,\r\n    width: '100%', \r\n  }\r\n}));\r\n\r\nconst override = css`\r\n  display: flex;\r\n  border-color: #971d1d;\r\n`;\r\n    function Pins(props) {\r\n      const [coordinate,setCoordinate] = useState([]);\r\n      Geocode.setApiKey(\"AIzaSyD7vSdUKsQRZcZ6tfi7EPFXuiDWSWtLZ7A\");\r\n      Geocode.setLanguage(\"zh-TW\");\r\n      Geocode.setLocationType(\"ROOFTOP\");\r\n      Geocode.enableDebug();\r\n      const Getcoordinate = (address)=>{\r\n        Geocode.fromAddress(address).then(\r\n            (response) => {\r\n              const { lat, lng } = response.results[0].geometry.location;\r\n              let tempcoordinate = [];\r\n              tempcoordinate.push(lat);\r\n              tempcoordinate.push(lng);\r\n              setCoordinate(tempcoordinate)\r\n              console.log(coordinate)\r\n              console.log(tempcoordinate)\r\n            },\r\n            (error) => {\r\n              console.error(error);\r\n            }\r\n        );\r\n    }\r\n    const {info} = props;\r\n    console.log(info);\r\n    const [open, setOpen] = useState(false);\r\n    const classes = useStyles()\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n    const [loading, setLoading] = useState(true)\r\n    useEffect(()=>{\r\n      const loadData = async () => {\r\n        await new Promise((r) => setTimeout(r, 2000))\r\n        setLoading((loading) => !loading)\r\n      }\r\n      Getcoordinate(info.address)\r\n      loadData()\r\n    },[])\r\n    return loading ? (\r\n      <div style={{ position: \"fixed\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }}>\r\n        <RingLoader color=\"#971d1d\" css={override} size={100} />\r\n      </div>) :(\r\n      <>\r\n        <Marker  longitude={coordinate[1]} latitude={coordinate[0]}>\r\n        <img \r\n          onClick={() => handleOpen(info.id)}\r\n          src={pinimg} height=\"40\" width=\"40\"\r\n          alt =\"\"\r\n          style={{\r\n          cursor: 'pointer',\r\n          fill: '#d00',\r\n          stroke: 'none',\r\n          transform: `translate(${-SIZE / 2}px,${-SIZE}px)`\r\n        }}></img>\r\n        </Marker>\r\n\r\n        <Dialog\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n        <DialogContent>\r\n          <Typography variant=\"body2\" className={classes.wrapIcon}>\r\n            <PlaceIcon fontSize=\"small\" color=\"disabled\" style={{marginRight: \"6px\"}}/>\r\n            {info.type}\r\n          </Typography><br/>\r\n          <Typography variant=\"body2\" className={classes.wrapIcon}>\r\n            <DateRangeIcon fontSize=\"small\" color=\"disabled\" style={{marginRight: \"6px\"}}/>\r\n            {info.cost}\r\n          </Typography><br/>\r\n          <Typography variant=\"body2\" className={classes.wrapIcon}>\r\n            <ArrowForwardOutlinedIcon fontSize=\"small\" color=\"disabled\" style={{marginRight: \"6px\"}}/>\r\n            {info.address}\r\n          </Typography><br/>\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </>\r\n    )\r\n}    \r\nexport default React.memo(Pins);"]},"metadata":{},"sourceType":"module"}